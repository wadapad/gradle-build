plugins {
  id 'java'
}
jar {
  archiveBaseName = 'maratest'
  archiveVersion = '0.1.0'
  manifest {
    attributes 'Main-Class': 'com.test.Test'
  }
}
repositories {
  mavenCentral()
}
dependencies {
  testImplementation group: 'junit', name: 'junit', version: '4.13.2'
}
task build_custom {
    doLast {
        println 'Custom build Done'
    }
    finalizedBy build
}
task test_custom {
    dependsOn build_custom
    finalizedBy test
    doLast {
        println 'Custom test Done'
    }
}
task hello(type: JavaExec) {
  dependsOn test_custom
  classpath = sourceSets.main.runtimeClasspath
  mainClass = 'com.test.Test'
}
